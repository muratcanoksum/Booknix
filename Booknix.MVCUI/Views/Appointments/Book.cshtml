@model List<Booknix.Domain.Entities.AppointmentSlot>

@{
    ViewData["Title"] = "Randevu Al";
    var employeeId = (Guid)ViewBag.EmployeeId;
    var serviceId = (Guid)ViewBag.ServiceId;
}

<div class="max-w-4xl mx-auto px-4 py-10">
    <h2 class="text-2xl font-bold text-gray-800 mb-6">Uygun Randevu Saatleri</h2>

    @if (!Model.Any())
    {
        <p class="text-gray-500 italic">Bu çalışan için uygun randevu bulunamadı.</p>
    }
    else
    {
        <form method="post" asp-action="Confirm">
            <input type="hidden" name="EmployeeId" value="@employeeId" />
            <input type="hidden" name="ServiceId" value="@serviceId" />

            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
                @foreach (var slot in Model)
                {
                    <label class="border rounded-lg p-4 flex items-center gap-4 cursor-pointer hover:bg-blue-50 transition">
                        <input type="radio" name="SelectedSlotId" value="@slot.Id" required class="form-radio" />
                        <div>
                            <p class="font-semibold text-gray-800">@slot.StartTime.ToString("dd MMM yyyy - HH:mm")</p>
                            <p class="text-sm text-gray-500">@slot.Location?.Name</p>
                        </div>
                    </label>
                }
            </div>

            <div class="mt-6 text-center">
                <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 rounded-lg">
                    Randevu Al
                </button>
            </div>
        </form>
    }
</div>